"use strict";(self.webpackChunkgdp_front=self.webpackChunkgdp_front||[]).push([[883],{2883:(f,p,l)=>{l.r(p),l.d(p,{RuesModule:()=>A});var r=l(6895),a=l(9450),e=l(4650),_=l(529),d=l(433),c=l(6423);function h(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"p-button",3),e.NdJ("click",function(){const s=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.selectRue(s))}),e.qZA(),e.TgZ(13,"button",4),e.NdJ("click",function(){const s=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.deleteRue(s._id))}),e.qZA()()()}if(2&n){const t=u.$implicit;e.xp6(2),e.Oqu(t.denomination),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.quartier),e.xp6(2),e.Oqu(t.cp),e.xp6(2),e.Oqu(t.localite)}}function m(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(4),s=e.oxw();return e.KtG(s.isAdding?s.addRue(i.value):s.editRue(i.value))}),e.TgZ(5,"div")(6,"label"),e._uU(7,"Nom de la rue:"),e.qZA(),e.TgZ(8,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRue.nom=i)}),e.qZA()(),e.TgZ(9,"div")(10,"label"),e._uU(11,"Code postal:"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRue.codePostal=i)}),e.qZA()(),e.TgZ(13,"div")(14,"label"),e._uU(15,"Ville:"),e.qZA(),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRue.ville=i)}),e.qZA()(),e.TgZ(17,"div")(18,"label"),e._uU(19,"Pays:"),e.qZA(),e.TgZ(20,"input",10),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRue.pays=i)}),e.qZA()(),e.TgZ(21,"div")(22,"button",11),e._uU(23),e.qZA(),e.TgZ(24,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(25,"Annuler"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.isAdding?"Ajouter une rue":"Modifier une rue"),e.xp6(6),e.Q6J("ngModel",t.selectedRue.nom),e.xp6(4),e.Q6J("ngModel",t.selectedRue.codePostal),e.xp6(4),e.Q6J("ngModel",t.selectedRue.ville),e.xp6(4),e.Q6J("ngModel",t.selectedRue.pays),e.xp6(3),e.Oqu(t.isAdding?"Ajouter":"Modifier")}}const Z=[{path:"",component:(()=>{class n{constructor(t){this.http=t,this.rues=[],this.selectedRue={},this.isAdding=!1,this.isEditing=!1}ngOnInit(){this.getRues()}getRues(){this.http.get("http://localhost:3003/rues/").subscribe(t=>{this.rues=t},t=>{console.log(t)})}addRue(t){this.http.post("http://localhost:3003/rues/",t).subscribe(o=>{this.rues.push(o),this.isAdding=!1},o=>{console.log(o)})}editRue(t){this.http.put(`http://localhost:3003/rues/${t.id}`,t).subscribe(o=>{const i=this.rues.findIndex(s=>s.id===o.id);this.rues[i]=o,this.selectedRue={},this.isEditing=!1},o=>{console.log(o)})}deleteRue(t){this.http.delete(`http://localhost:3003/rues/${t}`).subscribe(()=>{this.rues=this.rues.filter(o=>o.id!==t)},o=>{console.log(o)})}selectRue(t){this.selectedRue={...t}}cancel(){this.selectedRue={},this.isAdding=!1,this.isEditing=!1}toggleAdd(){this.isAdding=!this.isAdding,this.selectedRue={}}toggleEdit(){this.isEditing=!this.isEditing}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rues"]],decls:24,vars:2,consts:[[4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],["label","Modifier","icon","pi pi-pencil",3,"click"],["pButton","","pRipple","","type","button","label","Supprimer","icon","pi pi-trash",1,"p-button-danger",3,"click"],[3,"ngSubmit"],["rueForm","ngForm"],["type","text","name","nom","required","",3,"ngModel","ngModelChange"],["type","text","name","codePostal","required","",3,"ngModel","ngModelChange"],["type","text","name","ville","required","",3,"ngModel","ngModelChange"],["type","text","name","pays","required","",3,"ngModel","ngModelChange"],["type","submit"],["type","button",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"div")(2,"h2"),e._uU(3,"Liste des rues"),e.qZA(),e.TgZ(4,"table")(5,"thead")(6,"tr")(7,"th"),e._uU(8,"Denomination"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Nom"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Quartier"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Code Postal"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Localite"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Actions"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,h,14,5,"tr",0),e.qZA()(),e.TgZ(21,"button",1),e.NdJ("click",function(){return o.toggleAdd()}),e._uU(22,"Ajouter une rue"),e.qZA()(),e.YNc(23,m,26,6,"div",2),e.qZA()),2&t&&(e.xp6(20),e.Q6J("ngForOf",o.rues),e.xp6(3),e.Q6J("ngIf",o.isAdding||o.isEditing))},dependencies:[r.sg,r.O5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.On,d.F,c.Hq,c.zx]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.Bz.forChild(Z),a.Bz]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,R,d.u5,c.hJ]}),n})()}}]);